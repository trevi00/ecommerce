# 개념적 설계 (ERD 개념 모델)

## 1. 엔티티 식별

### 1.1 핵심 엔티티
- **User**: 사용자
- **Product**: 상품
- **Order**: 주문
- **OrderItem**: 주문 상품
- **Payment**: 결제
- **Cart**: 장바구니
- **CartItem**: 장바구니 상품
- **Coupon**: 쿠폰
- **UserCoupon**: 사용자 쿠폰

## 2. 엔티티별 속성

### 2.1 User (사용자)
```
User
├── id (PK)
├── email (UK)
├── password
├── name
├── phone
├── role (ENUM: GENERAL, VIP)
├── created_at
└── updated_at
```

### 2.2 Product (상품)
```
Product
├── id (PK)
├── name
├── description
├── price
├── stock_quantity
├── category
├── created_at
└── updated_at
```

### 2.3 Order (주문)
```
Order
├── id (PK)
├── user_id (FK)
├── order_number (UK)
├── total_amount
├── discount_amount
├── final_amount
├── status (ENUM: PENDING, CONFIRMED, CANCELLED)
├── created_at
└── updated_at
```

### 2.4 OrderItem (주문 상품)
```
OrderItem
├── id (PK)
├── order_id (FK)
├── product_id (FK)
├── quantity
├── unit_price
└── total_price
```

### 2.5 Payment (결제)
```
Payment
├── id (PK)
├── order_id (FK)
├── payment_method
├── amount
├── status (ENUM: PENDING, COMPLETED, FAILED, CANCELLED)
├── payment_date
├── created_at
└── updated_at
```

### 2.6 Cart (장바구니)
```
Cart
├── id (PK)
├── user_id (FK)
├── created_at
└── updated_at
```

### 2.7 CartItem (장바구니 상품)
```
CartItem
├── id (PK)
├── cart_id (FK)
├── product_id (FK)
├── quantity
├── created_at
└── updated_at
```

### 2.8 Coupon (쿠폰)
```
Coupon
├── id (PK)
├── name
├── code (UK)
├── discount_type (ENUM: PERCENTAGE, FIXED_AMOUNT)
├── discount_value
├── min_order_amount
├── max_discount_amount
├── valid_from
├── valid_to
├── max_usage_count
├── current_usage_count
├── is_active
├── created_at
└── updated_at
```

### 2.9 UserCoupon (사용자 쿠폰)
```
UserCoupon
├── id (PK)
├── user_id (FK)
├── coupon_id (FK)
├── order_id (FK, nullable)
├── status (ENUM: AVAILABLE, USED, EXPIRED)
├── issued_at
└── used_at
```