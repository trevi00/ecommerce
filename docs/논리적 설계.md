### 1 users 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 사용자 ID |
| email | VARCHAR(255) | UNIQUE, NOT NULL | 이메일 |
| password | VARCHAR(255) | NOT NULL | 암호화된 비밀번호 |
| name | VARCHAR(100) | NOT NULL | 사용자명 |
| phone | VARCHAR(20) | | 전화번호 |
| role | ENUM('GENERAL', 'VIP') | NOT NULL, DEFAULT 'GENERAL' | 사용자 등급 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 2 products 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 상품 ID |
| name | VARCHAR(255) | NOT NULL | 상품명 |
| description | TEXT | | 상품 설명 |
| price | DECIMAL(10,2) | NOT NULL, CHECK(price > 0) | 가격 |
| stock_quantity | INT | NOT NULL, DEFAULT 0, CHECK(stock_quantity >= 0) | 재고 수량 |
| category | VARCHAR(100) | | 카테고리 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 3 orders 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 주문 ID |
| user_id | BIGINT | FK(users.id), NOT NULL | 사용자 ID |
| order_number | VARCHAR(50) | UNIQUE, NOT NULL | 주문번호 |
| total_amount | DECIMAL(10,2) | NOT NULL, CHECK(total_amount >= 0) | 총 주문 금액 |
| discount_amount | DECIMAL(10,2) | NOT NULL, DEFAULT 0, CHECK(discount_amount >= 0) | 할인 금액 |
| final_amount | DECIMAL(10,2) | NOT NULL, CHECK(final_amount >= 0) | 최종 결제 금액 |
| status | ENUM('PENDING', 'CONFIRMED', 'CANCELLED') | NOT NULL, DEFAULT 'PENDING' | 주문 상태 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 4 order_items 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 주문 상품 ID |
| order_id | BIGINT | FK(orders.id), NOT NULL | 주문 ID |
| product_id | BIGINT | FK(products.id), NOT NULL | 상품 ID |
| quantity | INT | NOT NULL, CHECK(quantity > 0) | 수량 |
| unit_price | DECIMAL(10,2) | NOT NULL, CHECK(unit_price > 0) | 단가 |
| total_price | DECIMAL(10,2) | NOT NULL, CHECK(total_price > 0) | 총 가격 |

### 5 payments 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 결제 ID |
| order_id | BIGINT | FK(orders.id), UNIQUE, NOT NULL | 주문 ID |
| payment_method | VARCHAR(50) | NOT NULL | 결제 수단 |
| amount | DECIMAL(10,2) | NOT NULL, CHECK(amount > 0) | 결제 금액 |
| status | ENUM('PENDING', 'COMPLETED', 'FAILED', 'CANCELLED') | NOT NULL, DEFAULT 'PENDING' | 결제 상태 |
| payment_date | TIMESTAMP | | 결제 완료 일시 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 6 carts 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 장바구니 ID |
| user_id | BIGINT | FK(users.id), UNIQUE, NOT NULL | 사용자 ID |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 7 cart_items 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 장바구니 상품 ID |
| cart_id | BIGINT | FK(carts.id), NOT NULL | 장바구니 ID |
| product_id | BIGINT | FK(products.id), NOT NULL | 상품 ID |
| quantity | INT | NOT NULL, CHECK(quantity > 0) | 수량 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 8 coupons 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 쿠폰 ID |
| name | VARCHAR(255) | NOT NULL | 쿠폰명 |
| code | VARCHAR(50) | UNIQUE, NOT NULL | 쿠폰 코드 |
| discount_type | ENUM('PERCENTAGE', 'FIXED_AMOUNT') | NOT NULL | 할인 타입 |
| discount_value | DECIMAL(10,2) | NOT NULL, CHECK(discount_value > 0) | 할인 값 |
| min_order_amount | DECIMAL(10,2) | DEFAULT 0, CHECK(min_order_amount >= 0) | 최소 주문 금액 |
| max_discount_amount | DECIMAL(10,2) | CHECK(max_discount_amount > 0) | 최대 할인 금액 |
| valid_from | TIMESTAMP | NOT NULL | 유효 시작일 |
| valid_to | TIMESTAMP | NOT NULL | 유효 종료일 |
| max_usage_count | INT | NOT NULL, CHECK(max_usage_count > 0) | 최대 사용 횟수 |
| current_usage_count | INT | NOT NULL, DEFAULT 0, CHECK(current_usage_count >= 0) | 현재 사용 횟수 |
| is_active | BOOLEAN | NOT NULL, DEFAULT TRUE | 활성화 여부 |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 생성일시 |
| updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 수정일시 |

### 9 user_coupons 테이블
| 컬럼명 | 데이터 타입 | 제약조건 | 설명 |
|--------|------------|----------|------|
| id | BIGINT | PK, AUTO_INCREMENT | 사용자 쿠폰 ID |
| user_id | BIGINT | FK(users.id), NOT NULL | 사용자 ID |
| coupon_id | BIGINT | FK(coupons.id), NOT NULL | 쿠폰 ID |
| order_id | BIGINT | FK(orders.id) | 주문 ID (사용 시) |
| status | ENUM('AVAILABLE', 'USED', 'EXPIRED') | NOT NULL, DEFAULT 'AVAILABLE' | 쿠폰 상태 |
| issued_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | 발급일시 |
| used_at | TIMESTAMP | | 사용일시 |